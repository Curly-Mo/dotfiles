upto ()
{
  if [ -z "$1" ]; then
    echo "Usage: upto [directory]";
    return
  fi
  local upto=$1
  cd "${PWD/\/$upto\/*//$upto}"
}

_upto()
{
  local cur=${COMP_WORDS[COMP_CWORD]}
  local d=${PWD//\//\ }
  COMPREPLY=( $( compgen -W "$d" -- "$cur" ) )
}
complete -F _upto upto

# Jump down to first matching subdirectory
dto() {
  if [ -z "$1" ]; then
    echo "Usage: jd [directory]";
    return 1
  else
    cd **/$@([1])
  fi  
}
